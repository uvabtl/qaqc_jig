#! /usr/bin/python3

import os
import argparse

parser = argparse.ArgumentParser(description='Launch reco')
parser.add_argument("-s", "--submit", help="submit jobs", action='store_true')
args = parser.parse_args()

path = './data/production/'
sourceType = 'cesium'

modules = [
#('run0050','module_32110020000018','0'),
#('run0050','module_32110020000019','1'),
#('run0050','module_32110020000020','2'),
#('run0050','module_32110020000021','3'),
#('run0050','module_32110020000022','4'),
#('run0050','module_32110020000023','5'),
#
#('run0051','module_32110020000024','0'),
#('run0051','module_32110020000025','1'),
#('run0051','module_32110020000026','2'),
#('run0051','module_32110020000027','3'),
#('run0051','module_32110020000028','4'),
#('run0051','module_32110020000029','5'),
#
#('run0052','module_32110020000030','0'),
#('run0052','module_32110020000031','1'),
#('run0052','module_32110020000032','2'),
#('run0052','module_32110020000033','3'),
#('run0052','module_32110020000034','4'),
#('run0052','module_32110020000035','5'),
#
#('run0053','module_32110020000036','0'),
#('run0053','module_32110020000037','1'),
#('run0053','module_32110020000038','2'),
#('run0053','module_32110020000039','3'),
#('run0053','module_32110020000040','4'),
#('run0053','module_32110020000041','5'),
#
#('run0054','module_32110020000001','0'),
#('run0054','module_32110020000002','1'),
#('run0054','module_32110020000003','2'),
#('run0054','module_32110020000004','3'),
#('run0054','module_32110020000005','4'),
#('run0054','module_32110020000006','5'),
#
#('run0055','module_32110020000007','0'),
#('run0055','module_32110020000008','1'),
#('run0055','module_32110020000009','2'),
#('run0055','module_32110020000010','3'),
#('run0055','module_32110020000011','4'),
#('run0055','module_32110020000012','5'),
#
#('run0056','module_32110020000013','0'),
#('run0056','module_32110020000014','1'),
#('run0056','module_32110020000015','2'),
#('run0056','module_32110020000016','3'),
#('run0056','module_32110020000017','4'),
#
#('run0057','module_32110020000010','0'),
#('run0058','module_32110020000010','1'),
#('run0059','module_32110020000010','2'),
#('run0060','module_32110020000010','3'),
#('run0061','module_32110020000010','4'),
#('run0062','module_32110020000010','5'),
#
#('run0063','module_32110020000042','0'),
#('run0063','module_32110020000043','1'),
#('run0063','module_32110020000044','2'),
#('run0063','module_32110020000045','3'),
#('run0063','module_32110020000046','4'),
#('run0063','module_32110020000047','5'),
#
#('run0064','module_32110020000048','0'),
#('run0064','module_32110020000049','1'),
#('run0064','module_32110020000050','2'),
#('run0064','module_32110020000051','3'),
#('run0064','module_32110020000052','4'),
#('run0064','module_32110020000053','5'),
#
#('run0065','module_32110020000054','0'),
#('run0065','module_32110020000055','1'),
#('run0065','module_32110020000056','2'),
#('run0065','module_32110020000057','3'),
#('run0065','module_32110020000058','4'),
#('run0065','module_32110020000059','5'),
#
#('run0066','module_32110020000060','0'),
#('run0066','module_32110020000061','1'),
#('run0066','module_32110020000062','2'),
#('run0066','module_32110020000063','3'),
#('run0066','module_32110020000064','4'),
#('run0066','module_32110020000065','5'),
#
#('run0067','module_32110020000049','0'),
#('run0067','module_32110020000061','1'),
#
#('run0068','module_32110020000049','0'),
#('run0068','module_32110020000061','1'),
#('run0068','module_32110020000048','2'),
#
#('run0069','module_32110020000061','0'),
#('run0070','module_32110020000061','1'),
#('run0071','module_32110020000061','2'),
#('run0072','module_32110020000061','3'),
#('run0073','module_32110020000061','4'),
#('run0074','module_32110020000061','5'),
#
#('run0075','module_32110020000070','0'),
#('run0075','module_32110020000071','1'),
#('run0075','module_32110020000072','2'),
#('run0075','module_32110020000073','3'),
#('run0075','module_32110020000074','4'),
#('run0075','module_32110020000075','5'),
#
#('run0076','module_32110020000066','0'),
#('run0076','module_32110020000067','1'),
#('run0076','module_32110020000068','2'),
#('run0076','module_32110020000069','3'),
#
#('run0077','module_32110020000070','0'),
#('run0077','module_32110020000071','1'),
#('run0077','module_32110020000072','2'),
#('run0077','module_32110020000073','3'),
#('run0077','module_32110020000074','4'),
#('run0077','module_32110020000075','5'),
#
#('run0079','module_32110020000070','0'),
#('run0079','module_32110020000071','1'),
#('run0079','module_32110020000072','2'),
#('run0079','module_32110020000073','3'),
#('run0079','module_32110020000074','4'),
#('run0079','module_32110020000075','5'),
#
#('run0080','module_32110020000070','0'),
#('run0081','module_32110020000070','0'),
#('run0082','module_32110020000070','0'),
    
    # ('run0092','module_32110020000103','3'),

    # ('run0085','module_32110020000070','0'),
    # ('run0085','module_32110020000071','1'),
    # ('run0085','module_32110020000072','2'),
    # ('run0085','module_32110020000073','3'),
    # ('run0085','module_32110020000074','4'),
    # ('run0085','module_32110020000075','5'),

    # ('run0086','module_32110020000066','0'),
    # ('run0086','module_32110020000067','1'),
    # ('run0086','module_32110020000068','2'),
    # ('run0086','module_32110020000069','3'),

    # ('run0087','module_32110020000076','0'),
    # ('run0087','module_32110020000077','1'),
    # ('run0087','module_32110020000078','2'),
    # ('run0087','module_32110020000079','3'),
    # ('run0087','module_32110020000080','4'),
    # ('run0087','module_32110020000081','5'),

    #('run0248','module_32110020005601','0'),
    #('run0249','module_32110020005602','1'),
    #('run0249','module_32110020005603','2'),
    #('run0249','module_32110020005604','3'),
    #('run0249','module_32110020005605','4'),
    #('run0249','module_32110020005606','5'),
    #('run0249','module_32110020005607','6'),
    #('run0249','module_32110020005608','7'),
    #('run0249','module_32110020005609','8'),
    #('run0249','module_32110020005610','9'),
    #('run0249','module_32110020005611','10'),
    #('run0249','module_32110020005612','11'),
    #('run0250','module_32110020005614','1'),
    #('run0250','module_32110020005615','2'),
    #('run0250','module_32110020005616','3'),
    #('run0250','module_32110020005617','4'),
    #('run0250','module_32110020005618','5'),
    #('run0250','module_32110020005619','6'),
    #('run0250','module_32110020005620','7'),
    #('run0250','module_32110020005623','8'),
    #('run0250','module_32110020005624','9'),
    #('run0250','module_32110020005625','10'),
    #('run0250','module_32110020005626','11'),
    #('run0251','module_32110020005613','0'),
    #('run0252','module_32110020005623','0'),
    #('run0252','module_32110020005624','1'),
    #('run0252','module_32110020005625','2'),
    #('run0252','module_32110020005626','3'),
    #('run0252','module_32110020005615','4'),
    #('run0252','module_32110020005616','5'),
    #('run0252','module_32110020005617','6'),
    #('run0252','module_32110020005618','7'),
    #('run0253','module_32110020005619','8'),
    #('run0253','module_32110020005620','9'),
    #('run0253','module_32110020005621','10'),
    #('run0253','module_32110020005622','11'),
    #('run0254','module_32110020005612','0'),
    #('run0254','module_32110020005611','1'),
    #('run0254','module_32110020005610','2'),
    #('run0254','module_32110020005609','3'),
    #('run0254','module_32110020005608','4'),
    #('run0254','module_32110020005607','5'),
    #('run0254','module_32110020005606','6'),
    #('run0254','module_32110020005605','7'),
    #('run0254','module_32110020005604','8'),
    #('run0254','module_32110020005603','9'),
    #('run0254','module_32110020005602','10'),
    ('run0254','module_32110020005601','11'),
]

for module in modules:
    command = 'analyze-waveforms --slot '+module[2]+' --sourceType %s --print-pdfs /var/www/html/ -o %s/%s_analysis.root %s/%s_integrals.hdf5' % (sourceType,path+module[0],module[1],path+module[0],module[1])
    print(command)
    if args.submit: os.system(command)
